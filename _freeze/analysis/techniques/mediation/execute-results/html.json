{
  "hash": "4bc9ca1a2cb2475c16b3c0c7df55136b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Mediation Analyses'\nsubtitle: 'Conducting simple mediation analyses in R'\n---\n\n\n\n\n# Introduction\n\nIn this tutorial, we will give a preliminary introduction on how to conduct simple mediation analyses in R. \nWe will focus on running multiple regression analyses manually, to explain the concept of mediation and how to test for its significance.\nIn practice, it is often recommended to use specialized packages for mediation analyses, but to develop a good intuition for the concept, you should first understand the basics.\n<!-- At the end of this tutorial we will show an example of how to use the `bruceR` package to use the **PROCESS** approach. -->\n\n## What is mediation?\n\nWe are often interested in explaining a relationship or causal effect between two variables (e.g., `X` and `Y`). Many theories suggest that `X` does not necessarily *directly* influence `Y`, but that this effect is *mediated* by a third variable, which we can call `M` (for **M**ediation). We can visualize this interplay between the three variables like so:\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-1-1.png){width=100%}\n:::\n:::\n\n\n\n\nIn the left figure we see the **total effect** of `X` on `Y`. \nHere we only have one **path** from `X` to `Y`.\nIn mediation analysis, the total effect is referred to as **c**.\n\nIn the right figure, we see a mediation model, where the effect of `X` on `Y` is mediated by `M`. \nThis gives us two different **paths** for how X to have an effect on Y:\n\n* **direct effect**. The direct path `X -> Y`, referred to as **c'**.\n* **indirect effect**. The indirect path `X -> M` and `M -> Y`, referred to as **a** and **b** respectively.\nWe can calculate the indirect effect by multiplying both arrows (**a * b**)\n\nThe mediated model can help us distinguish between different scenarios:\n\n* **Full mediation**: Only the indirect effect (**a * b**) is significant.\n* **No mediation**: Only the direct effect (**c'**) is significant.\n* **Partial mediation**: Both the direct and indirect effects are significant\n* **No effect**: Neither the direct nor the indirect effect is significant.\n  \n**Note of caution:** Theoretically, mediation models almost always suggest some sort of \"causal chain\". Yet, the analysis itself cannot prove causality. The same caution applies as discussed in the [causality](../concepts/causality.qmd) section.\n\n## Packages and simulated data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sjPlot)\n```\n:::\n\n\n\n\nFor this tutorial we are going to simulate some data that align with the Figure presented above. \nYou don't need to understand this process, and can just run the code to create the data.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, mean=3, sd=1)\nM <- 0.5*X + rnorm(n, 0, 2)\nY <- 0.3*M + 0.8*X + rnorm(n, 0, 3)\n\nd <- tibble(X,M,Y)\n```\n:::\n\n\n\n::: {.callout-note title=\"If you want to know how this simulation works\" collapse=\"true\"}\nHere is a brief explanation of the data simulation code:\n\n* A seed is a starting point of the random number generator. Think of a random process in a computer as a jump in a random direction: as long as you're starting point is the same, you'll end up in the same place. By setting a specific seed, we thus ensure that the random data we generate is the same for everyone running this code. The number `42` is a common but arbitrary choice (it's a pop-culture reference)\n* Create a random variable `X` that is normally distributed (mean = 3, sd = 1).\n* Create a variable `M` that is based on `X`, but with random noise. Note that we're actually using the regression equation here. With `0.5*X` we say that for every unit increase in X, M should go up by 0.5 (so $b = 0.5$)). With `rnorm(n, 0, 2)` we add a residual (mean = 0, sd = 2) to the equation. We could also have added an intercept, but we left it out for sake of simplicity.\n* Create a random variable `Y` that is based on `M` ($b = 0.3$) and `X` ($b = 0.8$), with random noise.\n* This gives us a data set in which `X` influences `Y` both directly and indirectly through `M`.\n:::\n\n\n\n# Simple regression analyses\n\nLet's first look at the model without the mediator `M`. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_total <- lm(Y ~ X, data = d)\ntab_model(m_total)\n```\n\n::: {.cell-output-display  html-table-processing=none}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.32&nbsp;&ndash;&nbsp;0.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.263</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.80&nbsp;&ndash;&nbsp;1.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.109 / 0.107</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\nThis gives us the total effect of `X` on `Y`.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-5-1.png){width=100%}\n:::\n:::\n\n\n\n\nNow let's look at the model with the mediator `M`.\nWe can break this model down into two separate regression models:\n\n* Model 1: `M` predicted by `X`.\n* Model 2: `Y` predicted by `X` and `M`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- lm(M ~ X, data = d)\nm2 <- lm(Y ~ X + M, data = d)\n\ntab_model(m1, m2)\n```\n\n::: {.cell-output-display  html-table-processing=none}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.57&nbsp;&ndash;&nbsp;0.59</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.30&nbsp;&ndash;&nbsp;0.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30&nbsp;&ndash;&nbsp;0.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.65&nbsp;&ndash;&nbsp;1.19</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18&nbsp;&ndash;&nbsp;0.43</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.049 / 0.047</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.148 / 0.145</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n\n\n\nLet's visualize the paths in the mediation model:\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-7-1.png){width=100%}\n:::\n:::\n\n\n\n\nWe can see that all paths are significant, suggesting that there is both a direct and indirect effect of `X` on `Y`. \nIn other words, this is a **partial mediation**.\n\nWe can calculate the **indirect effect** by multiplying the coefficients of the two paths: \n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n$$a \\times b = 0.482 \\times 0.301 = 0.15$$\n\n\n::: {.callout-warning title=\"Testing the significance of the indirect effect using PROCESS\" collapse=\"true\"}\n\nThe indirect effect consists of two parts: **a** and **b**.\nWe have shown that we can calculate the indirect effect by multiplying these two parts.\nBut how can we calculate the confidence interval for this indirect effect, and test if it is significant?\n\nCalculating the required confidence interval for the indirect effect properly is not straightforward, and requires more advanced techniques like *bootstrapping* or *Monte Carlo simulations*, that we won't cover here.\nInstead, we will show you how to use **PROCESS** in R, using the `bruceR` package.\nThis will basically perform the same steps we did above, fitting three regression models to calculate the total, direct, and indirect effects.\nBut in addition, it will also provide a confidence intervals based on bootstrapping.\n\nTo use `PROCESS`, you simply provide the data frame, and specify the column names for the dependent variable (`y = \"Y\"`), the independent variable (`x = \"X\"`), and the mediator (`meds = \"M\"`).\nThe output might seem overwhelming at first, but if you look through it you should recognize the same components as we discussed before.\nThe **Model Summary** shows the three regression models.\nThe **Part 2. Mediation/Moderation Effect Estimate** shows the total (**c**), direct (**c'**) and indirect (**a * b**) effects.\nIf you compare the effect sizes with the ones we calculated manually, you will see that they are the same.\nBut the confidence intervalls are different, and we also get a confidence interval for the indirect effect.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(bruceR)\n\nPROCESS(d, y=\"Y\", x=\"X\", meds=\"M\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n****************** PART 1. Regression Model Summary ******************\n\nPROCESS Model Code : 4 (Hayes, 2018; www.guilford.com/p/hayes3)\nPROCESS Model Type : Simple Mediation\n-    Outcome (Y) : Y\n-  Predictor (X) : X\n-  Mediators (M) : M\n- Moderators (W) : -\n- Covariates (C) : -\n-   HLM Clusters : -\n\nAll numeric predictors have been grand-mean centered.\n(For details, please see the help page of PROCESS.)\n\nFormula of Mediator:\n-    M ~ X\nFormula of Outcome:\n-    Y ~ X + M\n\nCAUTION:\n  Fixed effect (coef.) of a predictor involved in an interaction\n  denotes its \"simple effect/slope\" at the other predictor = 0.\n  Only when all predictors in an interaction are mean-centered\n  can the fixed effect denote the \"main effect\"!\n  \nModel Summary\n\n──────────────────────────────────────────────────\n             (1) Y        (2) M        (3) Y      \n──────────────────────────────────────────────────\n(Intercept)    2.684 ***    1.442 ***    2.684 ***\n              (0.133)      (0.092)      (0.130)   \nX              1.065 ***    0.482 ***    0.919 ***\n              (0.137)      (0.095)      (0.137)   \nM                                        0.301 ***\n                                        (0.063)   \n──────────────────────────────────────────────────\nR^2            0.109        0.049        0.148    \nAdj. R^2       0.107        0.047        0.145    \nNum. obs.    500          500          500        \n──────────────────────────────────────────────────\nNote. * p < .05, ** p < .01, *** p < .001.\n\n************ PART 2. Mediation/Moderation Effect Estimate ************\n\nPackage Use : ‘mediation’ (v4.5.0)\nEffect Type : Simple Mediation (Model 4)\nSample Size : 500\nRandom Seed : set.seed()\nSimulations : 100 (Bootstrap)\n\nRunning 100 simulations...\nIndirect Path: \"X\" (X) ==> \"M\" (M) ==> \"Y\" (Y)\n────────────────────────────────────────────────────────────\n               Effect    S.E.     z     p      [Boot 95% CI]\n────────────────────────────────────────────────────────────\nIndirect (ab)   0.145 (0.043) 3.364 <.001 *** [0.065, 0.221]\nDirect (c')     0.919 (0.123) 7.500 <.001 *** [0.732, 1.173]\nTotal (c)       1.065 (0.116) 9.147 <.001 *** [0.854, 1.285]\n────────────────────────────────────────────────────────────\nPercentile Bootstrap Confidence Interval\n(SE and CI are estimated based on 100 Bootstrap samples.)\n\nNote. The results based on bootstrapping or other random processes\nare unlikely identical to other statistical software (e.g., SPSS).\nTo make results reproducible, you need to set a seed (any number).\nPlease see the help page for details: help(PROCESS)\nIgnore this note if you have already set a seed. :)\n```\n\n\n:::\n:::\n\n\n\n\n:::\n\n::: {.callout-tip title=\"Full mediation example\" collapse=\"true\"}\n## Full mediation\n\nSince we're working with simulated data, we can make a small adjustment to our code to simulate a scenario where `M` fully mediates the effect of `X` on `Y`.\nNotice that our simulation is almost identical, except that we set the coefficient of `X` on `Y` to 0.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, 3, 1)\nM <- 2*X + rnorm(n, 0, 2)\nY <- 0.3*M + 0*X + rnorm(n, 0, 3)\nd_full <- tibble(X,M,Y)\n```\n:::\n\n\n\n\n\nTo nicely interpret the models side-by-side, we'll add some labels and drop the confidence intervals.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_total <- lm(Y ~ X, data=d_full)\nm1 <- lm(M ~ X, data=d_full)\nm2 <- lm(Y ~ X + M, data=d_full)\ntab_model(m_total, m1, m2,  \n          dv.labels=c(\"Y ~ X\", \"M ~ X\", \"Y ~ X + M\"), show.ci = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X + M</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.263</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.522</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.052 / 0.050</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.465 / 0.464</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.094 / 0.090</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-12-1.png){width=100%}\n:::\n:::\n\n\n\n\nHere we do have an effect of `X` on `Y`, but when we control for `M`, the effect of `X` on `Y` is no longer significant.\nSince both the effect of `X` on `M` and `M` on `Y` are significant, this is a case of **full mediation**.\n:::\n\n::: {.callout-tip title=\"No mediation example\" collapse=\"true\"}\n## No mediation\n\nWe can also simulate a scenario where `M` has no effect on `Y`.\nWe do not make the effect of `M` on `Y` zero, but we set the coefficient to a very small value, so that it is not significant.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, 3, 1)\nM <- 0.5*X + rnorm(n, 0, 2)\nY <- 0.05*M + 0.8*X + rnorm(n, 0, 3)\nd_no_mediation <- tibble(X,M,Y)\n\nm_total <- lm(Y ~ X, data=d_no_mediation)\nm1 <- lm(M ~ X, data=d_no_mediation)\nm2 <- lm(Y ~ X + M, data=d_no_mediation)\ntab_model(m_total, m1, m2,  \n          dv.labels=c(\"Y ~ X\", \"M ~ X\", \"Y ~ X + M\"), show.ci = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X + M</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.250</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.94</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.05</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.414</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.091 / 0.089</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.049 / 0.047</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.092 / 0.089</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-14-1.png){width=100%}\n:::\n:::\n\n\n\n\nIn this case, the effect of `X` on `Y` is significant, but the effect of `X` on `M` is not. So there is no mediation effect.\nThe full effect of `X` on `Y` is direct.\n:::\n\n",
    "supporting": [
      "mediation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}