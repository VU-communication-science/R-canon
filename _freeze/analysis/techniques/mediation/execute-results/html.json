{
  "hash": "491b2d3b585623d38ba020488c2aecba",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Mediation Analyses'\nsubtitle: 'Conducting simple mediation analyses in R'\n---\n\n\n\n\n\n# Introduction\n\nIn this tutorial, we will give a preliminary introduction on how to conduct simple mediation analyses in R. \nWe will focus on running multiple regression analyses manually, to explain the concept of mediation and how to test for its significance.\nIn practice, it is often recommended to use specialized packages for mediation analyses, such as `lavaan` or `mediation`, but to develop a good intuition for the concept, you should first understand the basics.\n\n## What is mediation?\n\nWe are often interested in explaining a relationship or causal effect between two variables (e.g., `X` and `Y`). Many theories suggest that `X` does not necessarily *directly* influence `Y`, but that this effect is *mediated* by a third variable, which we can call `M` (for **M**ediation). We can visualize this interplay between the three variables like so:\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-1-1.png){width=100%}\n:::\n:::\n\n\n\n\n\nIn the left figure we see the **total effect** of `X` on `Y`. \nHere we only have one **path** from `X` to `Y`.\nIn mediation analysis, the total effect is referred to as **c**.\n\nIn the right figure, we see a mediation model, where the effect of `X` on `Y` is mediated by `M`. \nThis gives us two different **paths** for how X to have an effect on Y:\n\n* **direct effect**. The direct path `X -> Y`, referred to as **c'**.\n* **indirect effect**. The indirect path `X -> M` and `M -> Y`, referred to as **a** and **b** respectively.\nWe can calculate the indirect effect by multiplying both arrows (**a * b**)\n\nThe mediated model can help us distinguish between different scenarios:\n\n* **Full mediation**: Only the indirect effect (**a * b**) is significant.\n* **No mediation**: Only the direct effect (**c'**) is significant.\n* **Partial mediation**: Both the direct and indirect effects are significant\n* **No effect**: Neither the direct nor the indirect effect is significant.\n  \n**Note of caution:** Theoretically, mediation models almost always suggest some sort of \"causal chain\". Yet, the analysis itself cannot prove causality. The same caution applies as discussed in the [causality](../concepts/causality.qmd) section.\n\n## Packages and simulated data\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sjPlot)\n```\n:::\n\n\n\n\n\nFor this tutorial we are going to simulate some data that align with the Figure presented above. \nYou don't need to understand this process, and can just run the code to create the data.\nBut if you are interested, here is what we are doing:\n\n* Set a seed to make our simulation reproducible. This ensures that even though we are creating random data, the outcome is the same every time we run the code.\n* Create a variable `X` that is normally distributed (mean = 3, sd = 1).\n* Create a variable `M` that is influenced by `X` ($b = 2$), with random noise.[^inversed_regression]\n* Create a variable `Y` that is influenced by `M` ($b = 0.3$), and `X` ($b = 0.8$), with random noise. \n* This gives us a data set in which `X` influences `Y` both directly and indirectly through `M`.\n\n[^inversed_regression]: Note that what we're doing here is simulating data using the regression equation. With `2*X` we say that for every unit increase in X, M should go up by 2. With `rnorm(n, 0, 2)` we add a residual (mean = 0, sd = 2) to the equation.\nWe could also have added an intercept, but we left it out for simplicity.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, 3, 1)\nM <- 0.5*X + rnorm(n, 0, 2)\nY <- 0.3*M + 0.8*X + rnorm(n, 0, 3)\n\nd <- tibble(X,M,Y)\n```\n:::\n\n\n\n\n\n\n# Simple regression analyses\n\nLet's first look at the model without the mediator `M`. \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_total <- lm(Y ~ X, d)\ntab_model(m_total)\n```\n\n::: {.cell-output-display  html-table-processing=none}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.32&nbsp;&ndash;&nbsp;0.36</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.263</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.06</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.80&nbsp;&ndash;&nbsp;1.33</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.109 / 0.107</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n\nThis gives us the total effect of `X` on `Y`.\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-5-1.png){width=100%}\n:::\n:::\n\n\n\n\n\nNow let's look at the model with the mediator `M`.\nWe can break this model down into two separate regression models:\n\n* Model 1: `M` predicted by `X`.\n* Model 2: `Y` predicted by `X` and `M`.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- lm(M ~ X, d)\nm2 <- lm(Y ~ X + M, d)\n\ntab_model(m1, m2)\n```\n\n::: {.cell-output-display  html-table-processing=none}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.57&nbsp;&ndash;&nbsp;0.59</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;1.30&nbsp;&ndash;&nbsp;0.34</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30&nbsp;&ndash;&nbsp;0.67</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.65&nbsp;&ndash;&nbsp;1.19</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.18&nbsp;&ndash;&nbsp;0.43</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.049 / 0.047</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.148 / 0.145</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\nLet's visualize the paths in the mediation model:\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-7-1.png){width=100%}\n:::\n:::\n\n\n\n\n\nWe can see that all paths are significant, suggesting that there is both a direct and indirect effect of `X` on `Y`. \nIn other words, this is a **partial mediation**.\n\nWe can calculate the **indirect effect** by multiplying the coefficients of the two paths: \n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n$$a \\times b = 0.482 \\times 0.301 = 0.145$$\n\n\n::: {.callout-warning title=\"Testing the significance of the indirect effect\" collapse=\"true\"}\n\nIf both parts of the indirect effect (**a * b**) are significant, there is a good chance that the indirect effect is significant.\nAnd similarly, if one part is not significant, the indirect effect is likely not significant.\nHowever, this is not always the case, so it is better to explicitly test the significance of the indirect effect.\n\nThis is not straightforward, and requires more advanced techniques, such as bootstrapping or Monte-Carlo simulations.\nWe will not cover these techniques in this tutorial, because it distracts from the goal of teaching the basic concept of mediation.\nJust be aware that this is a limitation of the simple mediation analyses we have shown here, and that it is therefore better to use advanced techniques or specialized packages for mediation analyses in actual research.\nAt the end of this tutorial we also show you how to use the `PROCESS` package to test for mediation, which implements the bootstrapping technique.\n:::\n\n::: {.callout-tip title=\"Full mediation example\" collapse=\"true\"}\n## Full mediation\n\nSince we're working with simulated data, we can make a small adjustment to our code to simulate a scenario where `M` fully mediates the effect of `X` on `Y`.\nNotice that our simulation is almost identical, except that we set the coefficient of `X` on `Y` to 0.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, 3, 1)\nM <- 2*X + rnorm(n, 0, 2)\nY <- 0.3*M + 0*X + rnorm(n, 0, 3)\nd_full <- tibble(X,M,Y)\n```\n:::\n\n\n\n\n\n\nTo nicely interpret the models side-by-side, we'll add some labels and drop the confidence intervals.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_total <- lm(Y ~ X, d_full)\nm1 <- lm(M ~ X, d_full)\nm2 <- lm(Y ~ X + M, d_full)\ntab_model(m_total, m1, m2,  \n          dv.labels=c(\"Y ~ X\", \"M ~ X\", \"Y ~ X + M\"), show.ci = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X + M</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.263</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.71</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.98</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.12</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.522</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.30</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.052 / 0.050</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.465 / 0.464</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.094 / 0.090</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-11-1.png){width=100%}\n:::\n:::\n\n\n\n\n\nHere we do have an effect of `X` on `Y`, but when we control for `M`, the effect of `X` on `Y` is no longer significant.\nSince both the effect of `X` on `M` and `M` on `Y` are significant, this is a case of **full mediation**.\n:::\n\n::: {.callout-tip title=\"No mediation example\" collapse=\"true\"}\n## No mediation\n\nWe can also simulate a scenario where `M` has no effect on `Y`.\nWe do not make the effect of `M` on `Y` zero, but we set the coefficient to a very small value, so that it is not significant.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(42)\nn <- 500\nX <- rnorm(n, 3, 1)\nM <- 0.5*X + rnorm(n, 0, 2)\nY <- 0.05*M + 0.8*X + rnorm(n, 0, 3)\nd_no_mediation <- tibble(X,M,Y)\n\nm_total <- lm(Y ~ X, d_no_mediation)\nm1 <- lm(M ~ X, d_no_mediation)\nm2 <- lm(Y ~ X + M, d_no_mediation)\ntab_model(m_total, m1, m2,  \n          dv.labels=c(\"Y ~ X\", \"M ~ X\", \"Y ~ X + M\"), show.ci = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">M ~ X</th>\n<th colspan=\"2\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Y ~ X + M</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Estimates</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7\">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.250</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.01</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.973</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">&#45;0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.250</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">X</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.94</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.48</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">M</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"></td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.05</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7\">0.414</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"2\">500</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> / R<sup>2</sup> adjusted</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.091 / 0.089</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.049 / 0.047</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"2\">0.092 / 0.089</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](mediation_files/figure-html/unnamed-chunk-13-1.png){width=100%}\n:::\n:::\n\n\n\n\n\nIn this case, the effect of `X` on `Y` is significant, but the effect of `X` on `M` is not. So there is no mediation effect.\nThe full effect of `X` on `Y` is direct.\n:::\n\n# Testing mediation using PROCESS\n\nThe `PROCESS` macro for SPSS and SAS is a popular tool for mediation analyses.\nIt is also available in R, using the `bruceR` package.\nHere we show you how to use PROCESS, using the same simulated data (`d`) as before.\nTo use `PROCESS`, you simply provide the data frame, and specify the column names for the dependent variable (`y = \"Y\"`), the independent variable (`x = \"X\"`), and the mediator (`meds = \"M\"`).\n\nThe output is a bit overwhelming, but you should recognize the same components as we discussed before.\nThe **Model Summary** shows the three regression models.\nThe **Part 2. Mediation/Moderation Effect Estimate** shows the total (**c**), direct (**c'**) and indirect (**a * b**) effects.\nIf you compare the effect sizes with the ones we calculated manually, you will see that they are the same.\nBut one important difference is that PROCESS also provides an explicit confidence interval for the indirect effect, based on bootstrapping.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(bruceR)\n\nPROCESS(d, y=\"Y\", x=\"X\", meds=\"M\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n****************** PART 1. Regression Model Summary ******************\n\nPROCESS Model Code : 4 (Hayes, 2018; www.guilford.com/p/hayes3)\nPROCESS Model Type : Simple Mediation\n-    Outcome (Y) : Y\n-  Predictor (X) : X\n-  Mediators (M) : M\n- Moderators (W) : -\n- Covariates (C) : -\n-   HLM Clusters : -\n\nAll numeric predictors have been grand-mean centered.\n(For details, please see the help page of PROCESS.)\n\nFormula of Mediator:\n-    M ~ X\nFormula of Outcome:\n-    Y ~ X + M\n\nCAUTION:\n  Fixed effect (coef.) of a predictor involved in an interaction\n  denotes its \"simple effect/slope\" at the other predictor = 0.\n  Only when all predictors in an interaction are mean-centered\n  can the fixed effect denote the \"main effect\"!\n  \nModel Summary\n\n──────────────────────────────────────────────────\n             (1) Y        (2) M        (3) Y      \n──────────────────────────────────────────────────\n(Intercept)    2.684 ***    1.442 ***    2.684 ***\n              (0.133)      (0.092)      (0.130)   \nX              1.065 ***    0.482 ***    0.919 ***\n              (0.137)      (0.095)      (0.137)   \nM                                        0.301 ***\n                                        (0.063)   \n──────────────────────────────────────────────────\nR^2            0.109        0.049        0.148    \nAdj. R^2       0.107        0.047        0.145    \nNum. obs.    500          500          500        \n──────────────────────────────────────────────────\nNote. * p < .05, ** p < .01, *** p < .001.\n\n************ PART 2. Mediation/Moderation Effect Estimate ************\n\nPackage Use : ‘mediation’ (v4.5.0)\nEffect Type : Simple Mediation (Model 4)\nSample Size : 500\nRandom Seed : set.seed()\nSimulations : 100 (Bootstrap)\n\nRunning 100 simulations...\nIndirect Path: \"X\" (X) ==> \"M\" (M) ==> \"Y\" (Y)\n────────────────────────────────────────────────────────────\n               Effect    S.E.     z     p      [Boot 95% CI]\n────────────────────────────────────────────────────────────\nIndirect (ab)   0.145 (0.041) 3.503 <.001 *** [0.068, 0.233]\nDirect (c')     0.919 (0.150) 6.129 <.001 *** [0.649, 1.182]\nTotal (c)       1.065 (0.154) 6.903 <.001 *** [0.789, 1.319]\n────────────────────────────────────────────────────────────\nPercentile Bootstrap Confidence Interval\n(SE and CI are estimated based on 100 Bootstrap samples.)\n\nNote. The results based on bootstrapping or other random processes\nare unlikely identical to other statistical software (e.g., SPSS).\nTo make results reproducible, you need to set a seed (any number).\nPlease see the help page for details: help(PROCESS)\nIgnore this note if you have already set a seed. :)\n```\n\n\n:::\n:::\n",
    "supporting": [
      "mediation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}