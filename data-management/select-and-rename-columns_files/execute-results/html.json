{
  "hash": "4ca843f968b9918282a418c06fe87f5d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Select and rename columns'\norder: 1\n---\n\n\n\n\n\n::: {.callout-note title=\"TLDR summary\" collapse=\"true\"}\n\nTo select columns from a tibble (or data frame), you can use the `select` function.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nd  <- read_csv(\"https://tinyurl.com/R-practice-data\")  # read CSV file from the internet\nwrite_csv(d, \"my_data.csv\")                            # write to a CSV file on your computer\nd2 <- read_csv(\"my_data.csv\")                          # read CSV file from your own computer\n```\n:::\n\n\n\n\n:::\n\nIn this tutorial we use the `tidyverse` and our simulated [practice data](../datasets/practice-data.csv).\n\nOpen the tidyverse package, and read the data from the URL.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nurl <- \"https://raw.githubusercontent.com/fivethirtyeight/data/master/poll-quiz-guns/guns-polls.csv\"\nd <- read_csv(url)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 57 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): Question, Start, End, Pollster, Population, URL\ndbl (3): Support, Republican Support, Democratic Support\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\n\n## Selecting certain columns\n\nWhere `filter` selects specific rows, `select` allows you to select specific columns. \nMost simply, we can simply name the columns that we want to retrieve them in that particular order. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(d, Population, Support, Pollster)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 57 × 3\n   Population        Support Pollster          \n   <chr>               <dbl> <chr>             \n 1 Registered Voters      72 CNN/SSRS          \n 2 Adults                 82 NPR/Ipsos         \n 3 Adults                 67 Rasmussen         \n 4 Registered Voters      84 Harris Interactive\n 5 Registered Voters      78 Quinnipiac        \n 6 Registered Voters      72 YouGov            \n 7 Registered Voters      76 Morning Consult   \n 8 Registered Voters      41 YouGov/Huffpost   \n 9 Adults                 44 CBS News          \n10 Adults                 43 Rasmussen         \n# ℹ 47 more rows\n```\n\n\n:::\n:::\n\n\n\n\nYou can also specify a range of columns, for example all columns from Support to Democratic Support:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(d, Support:`Democratic Support`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 57 × 3\n   Support `Republican Support` `Democratic Support`\n     <dbl>                <dbl>                <dbl>\n 1      72                   61                   86\n 2      82                   72                   92\n 3      67                   59                   76\n 4      84                   77                   92\n 5      78                   63                   93\n 6      72                   65                   80\n 7      76                   72                   86\n 8      41                   69                   20\n 9      44                   68                   20\n10      43                   71                   24\n# ℹ 47 more rows\n```\n\n\n:::\n:::\n\n\n\n\nNote the use of 'backticks' (reverse quotes) to specify the column name, as R does not normally allow spaces in names. \n\nSelect can also be used to rename columns when selecting them, for example to get rid of the spaces:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(d, Pollster, rep = `Republican Support`, dem = `Democratic Support`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 57 × 3\n   Pollster             rep   dem\n   <chr>              <dbl> <dbl>\n 1 CNN/SSRS              61    86\n 2 NPR/Ipsos             72    92\n 3 Rasmussen             59    76\n 4 Harris Interactive    77    92\n 5 Quinnipiac            63    93\n 6 YouGov                65    80\n 7 Morning Consult       72    86\n 8 YouGov/Huffpost       69    20\n 9 CBS News              68    20\n10 Rasmussen             71    24\n# ℹ 47 more rows\n```\n\n\n:::\n:::\n\n\n\n\nNote that `select` drops all columns not selected. If you only want to rename columns, you can use the `rename` function:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrename(d, start_date = Start, end_date = End)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 57 × 9\n   Question start_date end_date Pollster Population Support `Republican Support`\n   <chr>    <chr>      <chr>    <chr>    <chr>        <dbl>                <dbl>\n 1 age-21   2/20/18    2/23/18  CNN/SSRS Registere…      72                   61\n 2 age-21   2/27/18    2/28/18  NPR/Ips… Adults          82                   72\n 3 age-21   3/1/18     3/4/18   Rasmuss… Adults          67                   59\n 4 age-21   2/22/18    2/26/18  Harris … Registere…      84                   77\n 5 age-21   3/3/18     3/5/18   Quinnip… Registere…      78                   63\n 6 age-21   3/4/18     3/6/18   YouGov   Registere…      72                   65\n 7 age-21   3/1/18     3/5/18   Morning… Registere…      76                   72\n 8 arm-tea… 2/23/18    2/25/18  YouGov/… Registere…      41                   69\n 9 arm-tea… 2/20/18    2/23/18  CBS News Adults          44                   68\n10 arm-tea… 2/27/18    2/28/18  Rasmuss… Adults          43                   71\n# ℹ 47 more rows\n# ℹ 2 more variables: `Democratic Support` <dbl>, URL <chr>\n```\n\n\n:::\n:::\n\n\n\n\nFinally, you can drop a variable by adding a minus sign in front of a name:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(d, -Question, -URL)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 57 × 7\n   Start   End     Pollster           Population    Support `Republican Support`\n   <chr>   <chr>   <chr>              <chr>           <dbl>                <dbl>\n 1 2/20/18 2/23/18 CNN/SSRS           Registered V…      72                   61\n 2 2/27/18 2/28/18 NPR/Ipsos          Adults             82                   72\n 3 3/1/18  3/4/18  Rasmussen          Adults             67                   59\n 4 2/22/18 2/26/18 Harris Interactive Registered V…      84                   77\n 5 3/3/18  3/5/18  Quinnipiac         Registered V…      78                   63\n 6 3/4/18  3/6/18  YouGov             Registered V…      72                   65\n 7 3/1/18  3/5/18  Morning Consult    Registered V…      76                   72\n 8 2/23/18 2/25/18 YouGov/Huffpost    Registered V…      41                   69\n 9 2/20/18 2/23/18 CBS News           Adults             44                   68\n10 2/27/18 2/28/18 Rasmussen          Adults             43                   71\n# ℹ 47 more rows\n# ℹ 1 more variable: `Democratic Support` <dbl>\n```\n\n\n:::\n:::\n",
    "supporting": [
      "select-and-rename-columns_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}